p8105_hw2_ns3782
================
NSK
2024-09-26

true

# Problem 1

``` r
## Read and clean NYC transit data

nyc_transit_df = 
  read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv", na = c("NA", ".", "")) %>% 
  janitor::clean_names() %>% 
  select(line, station_name, station_latitude, station_longitude, route1:route11, entry, vending, entrance_type, ada) %>%
  mutate(entry = case_match(
    entry,
    "YES" ~ TRUE,
    "NO" ~ FALSE,
    .default = NA
  ))
```

    ## Rows: 1868 Columns: 32
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (22): Division, Line, Station Name, Route1, Route2, Route3, Route4, Rout...
    ## dbl  (8): Station Latitude, Station Longitude, Route8, Route9, Route10, Rout...
    ## lgl  (2): ADA, Free Crossover
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

## Dataset overview

The cleaned NYC Transit Subway Entrance and Exit dataset contains
information about entrances and exits of subway stations in New York
City. Variables selected for inclusion in the cleaned dataset imported
into R include the line, station name, location coordinates (latitude
and longitude), routes served (route 1 through to route 11), entry,
vending presence, entrance type, and ADA compliance.

The data cleaning process involved reading the CSV file from a local
subdirectory /data, cleaning variable names using the janitor package,
selecting variables of interest, and converting the ‘entry’ variable
from character (“YES”/“NO”) to logical (TRUE/FALSE).

The resulting dataset has **1868 rows** and **19 columns**. The dataset
is not tidy because information about routes served is spread across
multiple columns (Route1 through Route11). This does not align with good
tidy data practice, as each variable should form a column and each
observation should form a row.

## How many distinct stations are there?

``` r
nyc_transit_df %>%
  distinct(station_name, line) %>%
  nrow()
```

    ## [1] 465

There are 465 distinct subway stations in the NYC transit subway system.

## How many stations are ADA compliant?

``` r
nyc_transit_df %>%
  filter(ada == TRUE) %>%
  distinct(station_name, line) %>%
  nrow()
```

    ## [1] 84

There are 84 ADA compliant stations.

## What proportion of station entrances / exits without vending allow entrance?

``` r
prop_no_vending_entry <- nyc_transit_df %>%
  filter(vending == "NO") %>%
  summarise(prop = mean(entry, na.rm = TRUE)) %>%
  pull(prop)
```

The proportion of station entrances/exits without vending that allow
entrance is 0.3770492, or 37.7%.
